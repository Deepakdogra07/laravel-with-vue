import{r as R,l as A,h as L,o as e,c as o,a as d,u as r,d as t,w as i,t as a,F as m,Z as I,b as T,k as c,i as j,j as l,e as b,f as y,H as $,O}from"./app-bd1de732.js";import S from"./footer-23e06a57.js";import B from"./header-5829b448.js";/* empty css                 */import E from"./sidebar-2128f7fb.js";import{i as N}from"./index-e54ae551.js";/* empty css                                                               */import"./_plugin-vue_export-helper-c27b6911.js";const P={class:"user-dashboard-header"},V=t("div",{class:"user-dashboard"},null,-1),F={class:"user-dashboard-section"},H={class:"container"},M={class:"row"},Q={class:"col-lg-3"},U={class:"col-lg-9"},q={class:"d-flex justify-between align-items-center mt-3 flex-wrap gap-3"},G=t("h2",null,"Total de empréstimos",-1),Z={class:"apply-now"},z={class:"row mt-4"},J={class:"col-md-12"},K={class:"myloan-tabel"},W={class:"d-flex justify-between align-items-center my-3"},X=t("div",{class:"see-all"},null,-1),Y={class:"table-responsive"},tt=t("thead",null,[t("tr",null,[t("th",{class:"d-none"},"ID"),t("th",{style:{border:"1px solid #ddd"}},"#"),t("th",{style:{border:"1px solid #ddd"}},"Data"),t("th",{style:{border:"1px solid #ddd"}},"Quantia"),t("th",{style:{border:"1px solid #ddd"}},"Parcelas"),t("th",{style:{border:"1px solid #ddd"}},"Status"),t("th",{style:{border:"1px solid #ddd"}},"Ações"),t("th",{style:{border:"1px solid #ddd"}})])],-1),st={class:"d-none"},et={style:{border:"1px solid #ddd"}},ot={style:{border:"1px solid #ddd"}},dt={style:{border:"1px solid #ddd"}},at={style:{border:"1px solid #ddd"}},nt={style:{border:"1px solid #ddd"}},lt={key:0,class:"pending-btn"},rt={key:1,class:"Approved-btn"},it={key:2,class:"Rejected-btn"},ct={key:3,class:"Doc-Pending-btn"},_t={key:4,class:"FullComplete-btn"},pt={key:5,class:"Re-Apply-btn"},ht={class:"tabel-blue-text",style:{border:"1px solid #ddd"}},ut=["onClick"],mt=["onClick"],bt=t("i",{class:"bi bi-pencil-square"},null,-1),yt=[bt],ft={key:2,class:"pl-3"},vt=t("i",{class:"bi bi-chevron-right"},null,-1),It={__name:"all-loans",props:{loanRecord:Array,countLoan:Object},setup(f){const _=f,v=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=R("Reaplicar"),x=async n=>{try{p.value="Aguarde...",await $.post(`/reapply/loan/${n}`),N("Empréstimo aplicado com sucesso!",{autoClose:2e3,theme:"dark"}),setTimeout(()=>{p.value="Reaplicar",location.reload()},2500)}catch(h){console.error("Error occurred while reapplying loan:",h)}},g=n=>{O.visit(`/edit/${n}`)},k=(()=>0)(),w=A({order:[[k,"desc"]]});return(n,h)=>{const u=L("DataTable");return e(),o(m,null,[d(r(I),{title:"Todos os empréstimos"}),t("div",P,[d(B,{class:"login-wrapper-dashboard"})]),V,t("div",F,[t("div",H,[t("div",M,[t("div",Q,[d(E)]),t("div",U,[t("div",q,[G,t("div",Z,[d(r(c),{class:"",href:"/applyloan"},{default:i(()=>[T("APLIQUE AGORA")]),_:1})])]),t("div",z,[t("div",J,[t("div",K,[t("div",W,[t("h3",null,"Total de empréstimos ("+a(_.countLoan)+")",1),X]),t("div",Y,[d(u,{style:{width:"100%"},class:"display myLoans-table",options:w},{default:i(()=>[tt,t("tbody",null,[(e(!0),o(m,null,j(_.loanRecord,(s,C)=>(e(),o("tr",{key:s.id},[t("td",st,a(s.id),1),t("td",et,a(_.loanRecord.length-C),1),t("td",ot,a(v(s.created_at)),1),t("td",dt,a(s.loan_amount),1),t("td",at,a(s.numberOfmonths)+" Months",1),t("td",nt,[s.status==0?(e(),o("span",lt,"Pendente")):l("",!0),s.status==1?(e(),o("span",rt,"Aprovado")):l("",!0),s.status==2?(e(),o("span",it,"Rejeitado")):l("",!0),s.status==3?(e(),o("span",ct,"Documento pendente")):l("",!0),s.status==4?(e(),o("span",_t,"Completo")):l("",!0),s.status==5?(e(),o("span",pt,"Reaplicar")):l("",!0)]),t("td",ht,[t("div",null,[s.status===2?(e(),b(r(c),{key:0,href:"/"},{default:i(()=>[t("button",{class:"btn btn-success btn-sm",onClick:y(D=>x(s.id),["prevent"])},a(p.value),9,ut)]),_:2},1024)):s.status===3?(e(),b(r(c),{key:1,href:"/"},{default:i(()=>[t("button",{class:"btn btn-warning btn-sm text-white",onClick:y(D=>g(s.id),["prevent"])},yt,8,mt)]),_:2},1024)):(e(),o("p",ft,"-"))])]),t("td",null,[d(r(c),{class:"table-right-arrow",href:`loan/view/page/${s.id}`},{default:i(()=>[vt]),_:2},1032,["href"])])]))),128))])]),_:1},8,["options"])])])])])])])])]),d(S)],64)}}};export{It as default};
