import{_ as v}from"./AuthenticatedLayout-482c9fe4.js";import{_ as A}from"./Modal-59e05967.js";import{r as _,h as B,o as s,e as L,w as l,d as t,a as r,c as o,i as S,t as u,n as I,j as a,u as h,k as f,b as N,F as T,O as V}from"./app-bd1de732.js";import{S as c}from"./sweetalert2.all-3916f515.js";import"./NavLink-f218cb80.js";import"./_plugin-vue_export-helper-c27b6911.js";const $=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Assigned Loans",-1),D={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg shift-up",style:{border:"1px solid #ddd"}},j={class:"p-12 text-gray-900"},F=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Loan Amount"),t("th",null,"Installments"),t("th",null,"Loan Status"),t("th",null,"Actions")])],-1),R={key:0,class:"text-warning"},M={key:1,class:"text-success"},P={key:2,class:"text-danger"},Y={key:3,class:"text-black"},z={key:4,class:"text-success"},q={key:5,class:"text-orange"},G=["onClick"],H=t("button",{class:"btn btn-info btn-sm mr-1"},"View",-1),J=t("button",{class:"btn btn-primary btn-sm mr-1"},"Edit",-1),K=["onClick"],et={__name:"AgentBasedLead",props:{leads:{type:Array}},setup(g){const b={dom:"Bftip",buttons:["csv"]},d=_(null),i=_(!1),x=n=>{d.value=n,i.value=!0},y=()=>{i.value=!1,location.reload()},C=async n=>{const{value:m}=await c.fire({title:"Are you sure?",text:"You want to Cancel Agent from this Loan?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, Cancel it!"});try{m?(V.get(`/cancelAgent/${n}`),c.fire({icon:"success",title:"Success",text:"Cancel Loan on this Agent Successfully"}),location.reload()):c.fire({icon:"info",title:"Canceled",text:"Deletion canceled."})}catch{c.fire({icon:"error",title:"Error",text:"Error Cancel Agent on Loan. Please try again."})}},w=n=>{switch(n){case"pending":return"text-yellow-500";case"approved":return"text-green-500";case"rejected":return"text-red-500";case"incomplete":return"text-black-500";case"fullcomplete":return"text-blue-500";case"re-apply":return"text-orange-500";default:return"text-gray-800"}};return(n,m)=>{const p=B("DataTable");return s(),L(v,null,{header:l(()=>[$]),default:l(()=>[t("div",D,[t("div",E,[t("div",O,[t("div",j,[r(p,{class:"display",options:b,style:{border:"2px black",width:"100%"}},{default:l(()=>[F,t("tbody",null,[(s(!0),o(T,null,S(g.leads,e=>(s(),o("tr",{key:e.id},[t("td",null,u(e.applicant_name),1),t("td",null,u(e.loan_amount),1),t("td",null,u(e.numberOfmonths)+" Months",1),t("td",{class:I(["font-bold",w(e.status)])},[e.status==0?(s(),o("p",R,"Pending")):a("",!0),e.status==1?(s(),o("p",M,"Approved")):a("",!0),e.status==2?(s(),o("p",P,"Rejected")):a("",!0),e.status==3?(s(),o("p",Y,"Incomplete")):a("",!0),e.status==4?(s(),o("p",z,"FullComplete")):a("",!0),e.status==5?(s(),o("p",q,"Re-Apply")):a("",!0)],2),t("td",null,[t("button",{class:"btn btn-primary btn-sm",onClick:k=>x(e.id)},"Resign To Other Agent",8,G),r(h(f),{href:n.route("loan.view",e.id),class:"pl-2"},{default:l(()=>[H]),_:2},1032,["href"]),r(h(f),{href:n.route("loan.edit",e.id)},{default:l(()=>[J]),_:2},1032,["href"]),N(" Â "),t("button",{class:"btn btn-danger btn-sm",onClick:k=>C(e.id)},"Cancel Loan",8,K)])]))),128))])]),_:1})])])])]),r(A,{show:i.value,leadId:d.value,modal:1,onClose:y},null,8,["show","leadId"])]),_:1})}}};export{et as default};
