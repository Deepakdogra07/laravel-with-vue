import{l as I,T as S,q as f,r as R,h as j,o,c as s,a as u,u as _,d as e,t as n,f as q,y as b,B as y,j as i,w as T,F as p,H as v,Z as E,i as B,b as L,p as P,m as V}from"./app-bd1de732.js";import{i as F}from"./index-e54ae551.js";import M from"./footer-23e06a57.js";import U from"./header-5829b448.js";/* empty css                 */import O from"./sidebar-2128f7fb.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                               */const d=r=>(P("data-v-847431f6"),r=r(),V(),r),z={class:"user-dashboard-header"},H=d(()=>e("div",{class:"user-dashboard"},null,-1)),K={class:"user-dashboard-section"},Q={class:"container"},Z={class:"row"},G={class:"col-lg-3"},J={class:"col-lg-9"},W={class:"d-flex justify-between align-items-center flex-wrap mt-3"},X=d(()=>e("h2",null,"Retirar",-1)),Y={class:"withdraw-btn d-flex align-items-center gap-3"},w={class:"d-flex align-items-center gap-x-2"},ee=d(()=>e("i",{class:"fa-solid fa-wallet"},null,-1)),te={style:{"line-height":"10px"}},oe=d(()=>e("p",{class:"mb-0"},"Minha carteira",-1)),se={class:"row mt-4"},ne={class:"col-md-12"},ae={class:"myloan-tabel"},re={class:"share-code-section-withdraw mb-4"},ce=d(()=>e("h3",null,"retirar montante",-1)),ie={class:"d-flex gap-2 account-amount-inputs"},de={key:0,class:"text-red-500 error-wrap"},le={key:1,class:"text-red-500 error-wrap"},ue=d(()=>e("br",null,null,-1)),_e=d(()=>e("button",{class:"copy-code"},"RETIRAR",-1)),me={class:"row"},pe={class:"col-md-12"},he={class:"myloan-tabel myloan-tabel-new mb-3"},fe=d(()=>e("div",{class:"d-flex justify-between align-items-center mt-3"},[e("h3",null,"Lista de retiradas")],-1)),be=d(()=>e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",{class:"d-none"},"ID"),e("th",null,"Data de inscrição"),e("th",null,"Quantia"),e("th",null,"Status"),e("th",null,"Resultado"),e("th",null,"Detalhes do valor recebido")])],-1)),ye=["options"],ve={class:"d-none"},ge={class:"tabel-blue-text"},xe={class:"tabel-blue-text"},ke={class:"tabel-blue-text"},Ae=["href","data-lightbox"],Ne=["src"],Ce=["onClick"],De={key:0},Ie={key:1},Se={key:2},Re={key:3},je={key:4},qe={key:5},Te={key:6},Ee={key:7},Be=d(()=>e("div",{class:"termconditions mt-4"},[e("h2",null,"Termos e Condições"),e("p",null,"1. O cliente terá a opção de compartilhar o link do site com seu código de indicação e se um novo lead vier da indicação então o o usuário receberá uma comissão de 5% assim que o empréstimo for aprovado e poderá solicitar o saque assim que atingir o valor definido para saque."),e("p",null,"2. A indicação só funcionará para quem é novo na plataforma."),e("p",null,"3. O usuário que aderir à plataforma através da indicação não será capaz de ver o benefício que o usuário existente tem quando é indicado e ele ficará oculto na plataforma")],-1)),Le={__name:"referralmanagement",props:{amount:Number,errors:Object,my_refferal_code:Number,applied_loans_count:Number,applied_loans_approved_count:Number,applied_loans_rejected_count:Number,withdrawl:Array,userDetails:Array},setup(r){const g=c=>{v.get(`/reject/loan/reason/${c}`,{responseType:"blob"}).then(a=>{const m=new Blob([a.data],{type:a.headers["content-type"]}),t=document.createElement("a");t.href=window.URL.createObjectURL(m),t.download="loanRejected.pdf",t.click()}).catch(a=>{console.error("Error downloading file:",a)})},x=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=(()=>0)(),A=I({order:[[k,"desc"]]}),h=r,l=S({totalAmount:null,withdrawAmount:null,status:"pending",my_refferal_code:"",isSubmitting:!1,account_details:null});f(()=>{l.totalAmount=h.amount,l.my_refferal_code=h.my_refferal_code});const N=async()=>{const c={onSuccess:a=>{F("Solicitação de retirada enviada com sucesso !",{autoClose:2e3,theme:"dark"}),setTimeout(function(){window.location.reload()},2e3)},onError:a=>{}};l.post("/referral/withdraw/amount",c)},C=R(),D=async()=>{try{const c=await v.get("/get/acount/number");C.value=c.data.account_details,l.account_details=c.data.account_details}catch(c){console.error("Error fetching data:",c)}};return f(()=>{D()}),(c,a)=>{const m=j("DataTable");return o(),s(p,null,[u(_(E),{title:""}),e("div",z,[u(U,{class:"login-wrapper-dashboard"})]),H,e("div",K,[e("div",Q,[e("div",Z,[e("div",G,[u(O)]),e("div",J,[e("div",W,[X,e("div",Y,[e("div",w,[ee,e("div",te,[oe,e("h3",null,n(r.amount),1)])])])]),e("div",se,[e("div",ne,[e("div",ae,[e("div",re,[ce,e("form",{class:"d-flex flex-column align-items-center",onSubmit:q(N,["prevent"])},[b(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>_(l).totalAmount=t),type:"hidden",readonly:""},null,512),[[y,_(l).totalAmount]]),e("div",ie,[e("div",null,[b(e("input",{class:"amount-input","onUpdate:modelValue":a[1]||(a[1]=t=>_(l).withdrawAmount=t),type:"text",name:"withdrawAmount",placeholder:"Insira o valor"},null,512),[[y,_(l).withdrawAmount]]),r.errors.withdrawAmount?(o(),s("div",de,n(r.errors.withdrawAmount),1)):i("",!0),r.errors.cpf_or_phone?(o(),s("div",le,n(r.errors.cpf_or_phone),1)):i("",!0)])]),ue,_e],32)]),e("div",me,[e("div",pe,[e("div",he,[fe,u(m,{style:{width:"100%","margin-top":"20px"},class:"display myLoans-table"},{default:T(()=>[be,e("tbody",null,[(o(!0),s(p,null,B(r.withdrawl,t=>(o(),s("tr",{key:t.id,options:A},[e("td",null,n(t.id),1),e("td",ve,n(t.id),1),e("td",ge,n(x(t.created_at)),1),e("td",xe,n(t.withdrawAmount),1),e("td",null,n(t.status==0?"Pending":t.status==1?"Approved":t.status==2||t.status==3?"Rejeitado":t.status==4?"Completo":t.status=="Pending"?"Pending":t.status==100),1),e("td",ke,[e("div",null,[t.status==1?(o(),s("a",{key:0,href:"/storage/"+t.receipt,"data-lightbox":"/storage/"+t.receipt},[e("img",{src:"/storage/"+t.receipt,alt:"Approved",style:{height:"100px",width:"100px"}},null,8,Ne)],8,Ae)):t.status==2?(o(),s("i",{key:1,onClick:Ve=>g(t.id),class:"fa fa-download text-primary","aria-hidden":"true",style:{"font-size":"30px"}},null,8,Ce)):(o(),s(p,{key:2},[L(" Pending ")],64))])]),e("td",null,[t.cpf?(o(),s("p",De,"CPF : "+n(t.cpf),1)):i("",!0),t.phonenumber?(o(),s("p",Ie,"Mobile Number "+n(t.phonenumber),1)):i("",!0),t.through_email?(o(),s("p",Se,"Email : "+n(t.through_email),1)):i("",!0),t.randomkey?(o(),s("p",Re,"Random Key : "+n(t.randomkey),1)):i("",!0),t.bankcode?(o(),s("p",je,"Bank Code : "+n(t.bankcode),1)):i("",!0),t.agency_number?(o(),s("p",qe,"Agency Number : "+n(t.agency_number),1)):i("",!0),t.account_number?(o(),s("p",Te,"Account No. : "+n(t.account_number),1)):i("",!0),t.bank_cpf?(o(),s("p",Ee,"CPF(NIN) : "+n(t.bank_cpf),1)):i("",!0)])],8,ye))),128))])]),_:1})])])]),Be])])])])])])]),u(M)],64)}}},Qe=$(Le,[["__scopeId","data-v-847431f6"]]);export{Qe as default};
