import{_ as w}from"./AuthenticatedLayout-6c1d06a3.js";import{l as C,h as g,o as r,c as i,a as c,u as v,w as d,F as u,Z as b,b as B,d as t,i as D,t as o,n as L,O as m}from"./app-60ff8f36.js";import{S as n}from"./sweetalert2.all-43be97e2.js";import"./NavLink-053f2b2d.js";/* empty css                                                                   */import"./_plugin-vue_export-helper-c27b6911.js";const k={class:"py-6"},A={class:"max-w-7xl mx-auto px-2"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},S={class:"p-6 text-gray-900"},R=t("thead",null,[t("tr",null,[t("th",{class:"d-none"},"ID"),t("th",null,"Applicant Name"),t("th",null,"Loan Amount"),t("th",null,"Installments"),t("th",null,"Status"),t("th",null,"Actions")])],-1),E={class:"d-none"},T={class:"d-flex gap-2"},$=["onClick"],N=["onClick"],Z={__name:"deletedLoan",props:{loanData:{type:Array,default:[]}},setup(f){const _=(()=>0)(),p=C({order:[[_,"desc"]]}),h=async s=>{const{value:a}=await n.fire({title:"Are you sure?",text:"You want to Delete Loan Record permanantly?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"});try{a?(await axios.delete(`/loan/deleted/${s}`),n.fire({icon:"success",title:"Success",text:"Loan Deleted Successfully"}),m.visit(route("deleted.loans"))):n.fire({icon:"info",title:"Canceled",text:"Deletion canceled."})}catch{n.fire({icon:"error",title:"Error",text:"Error Deleting Agent. Please try again."})}},x=async s=>{const{value:a}=await n.fire({title:"Are you sure?",text:"You want to Restore this Loan Record?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, restore it!"});try{a?(await axios.delete(`/loan/delete/${s}`),n.fire({icon:"success",title:"Success",text:"Loan Restored Successfully"}),m.visit(route("deleted.loans"))):n.fire({icon:"info",title:"Canceled",text:"Restore loan canceled."})}catch{n.fire({icon:"error",title:"Error",text:"Error restore loan. please try again."})}};return(s,a)=>{const l=g("DataTable");return r(),i(u,null,[c(v(b),{title:"Loan Management"}),c(w,null,{header:d(()=>[B(" Loan Management ")]),default:d(()=>[t("div",k,[t("div",A,[t("div",I,[t("div",S,[c(l,{class:"display",options:p,style:{border:"2px black",width:"100%"}},{default:d(()=>[R,t("tbody",null,[(r(!0),i(u,null,D(f.loanData,e=>(r(),i("tr",{key:e.id},[t("td",E,o(e.id),1),t("td",null,o(e.applicant_name),1),t("td",null,o(e.loan_amount),1),t("td",null,o(e.numberOfmonths)+" Months",1),t("td",{class:L({"text-green-700":e.status==1,"text-red-700":e.status==0})},o(e.status==1?"Active":"Inactive"),3),t("td",null,[t("div",T,[t("button",{class:"btn btn-info",onClick:y=>x(e.id)},"Restore",8,$),t("button",{class:"btn btn-primary",onClick:y=>h(e.id)},"Delete permanantly",8,N)])])]))),128))])]),_:1},8,["options"])])])])])]),_:1})],64)}}};export{Z as default};
