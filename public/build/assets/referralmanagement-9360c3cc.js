import{l as S,T as B,q as b,r as g,h as F,o as s,c as n,a as u,u as m,d as e,t as o,f as j,y as v,B as x,j as l,w as T,F as f,H as k,Z as q,i as L,b as E,p as V,m as P}from"./app-60ff8f36.js";import{i as U}from"./index-3d3c44c0.js";import M from"./footer-8c953474.js";import $ from"./header-9ff668fb.js";/* empty css                 */import z from"./sidebar-765e2b34.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                               */const i=a=>(V("data-v-82674938"),a=a(),P(),a),Q={class:"user-dashboard-header"},Z=i(()=>e("div",{class:"user-dashboard"},null,-1)),G={class:"user-dashboard-section"},J={class:"container"},K={class:"row"},W={class:"col-lg-3"},X={class:"col-lg-9"},Y={class:"d-flex justify-between align-items-center flex-wrap mt-3"},w=i(()=>e("h2",null,"Retirar",-1)),ee={class:"withdraw-btn d-flex align-items-center gap-3"},te={class:"d-flex align-items-center gap-x-2"},oe=i(()=>e("i",{class:"fa-solid fa-wallet"},null,-1)),se={style:{"line-height":"10px"}},ne=i(()=>e("p",{class:"mb-0"},"Montante total",-1)),ae={class:"withdraw-btn d-flex align-items-center gap-3"},ie={class:"d-flex align-items-center gap-x-2"},re=i(()=>e("i",{class:"fa-solid fa-wallet"},null,-1)),ce={style:{"line-height":"10px"}},le=i(()=>e("p",{class:"mb-0"},"Quantidade retirada",-1)),de={class:"withdraw-btn d-flex align-items-center gap-3"},ue={class:"d-flex align-items-center gap-x-2"},me=i(()=>e("i",{class:"fa-solid fa-wallet"},null,-1)),_e={style:{"line-height":"10px"}},pe=i(()=>e("p",{class:"mb-0"},"Valor não retirado",-1)),he={class:"row mt-4"},fe={class:"col-md-12"},ye={class:"myloan-tabel"},be={class:"share-code-section-withdraw mb-4"},ge=i(()=>e("h3",null,"Retirar montante",-1)),ve={class:"d-flex gap-2 account-amount-inputs"},xe={key:0,class:"text-red-500 error-wrap"},ke={key:1,class:"text-red-500 error-wrap"},Ae=i(()=>e("br",null,null,-1)),De=["disabled"],Ne={class:"row"},Re={class:"col-md-12"},Ie={class:"myloan-tabel myloan-tabel-new mb-3"},Ce=i(()=>e("div",{class:"d-flex justify-between align-items-center mt-3"},[e("h3",null,"Lista de retiradas")],-1)),Oe=i(()=>e("thead",null,[e("tr",null,[e("th",{class:"d-none"},"#"),e("th",{class:"d-none"},"ID"),e("th",null,"Data de inscrição"),e("th",null,"Quantia"),e("th",null,"Status"),e("th",null,"Resultado"),e("th",null,"Detalhes do valor recebido")])],-1)),Se=["options"],Be={class:"d-none"},Fe={class:"d-none"},je={class:"tabel-blue-text"},Te={class:"tabel-blue-text"},qe={class:"tabel-blue-text"},Le=["href","data-lightbox"],Ee=["src"],Ve=["onClick"],Pe={key:0},Ue={key:1},Me={key:2},$e={key:3},ze={key:4},He={key:5},Qe={key:6},Ze={key:7},Ge=i(()=>e("div",{class:"termconditions mt-4"},[e("h2",null,"Termos e Condições"),e("p",null,"1. O cliente terá a opção de compartilhar o link do site com seu código de indicação e se um novo lead vier da indicação então o o usuário receberá uma comissão de 5% assim que o empréstimo for aprovado e poderá solicitar o saque assim que atingir o valor definido para saque."),e("p",null,"2. A indicação só funcionará para quem é novo na plataforma."),e("p",null,"3. O usuário que aderir à plataforma através da indicação não será capaz de ver o benefício que o usuário existente tem quando é indicado e ele ficará oculto na plataforma")],-1)),Je={__name:"referralmanagement",props:{amount:Number,errors:Object,my_refferal_code:Number,applied_loans_count:Number,applied_loans_approved_count:Number,applied_loans_rejected_count:Number,withdrawl:Array,userDetails:Array,thirtyDaysOldAmounts:Number,NotthirtyDaysOldAmounts:Number},setup(a){const A=c=>{k.get(`/reject/loan/reason/${c}`,{responseType:"blob"}).then(r=>{const h=new Blob([r.data],{type:r.headers["content-type"]}),t=document.createElement("a");t.href=window.URL.createObjectURL(h),t.download="loanRejected.pdf",t.click()}).catch(r=>{console.error("Error downloading file:",r)})},D=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=(()=>0)(),y=S({order:[[N,"desc"]]}),_=a,d=B({totalAmount:null,withdrawAmount:null,status:"pending",my_refferal_code:"",isSubmitting:!1,account_details:null,thirtyDaysOldAmounts:_.thirtyDaysOldAmounts,NotthirtyDaysOldAmounts:_.NotthirtyDaysOldAmounts});b(()=>{d.totalAmount=_.amount,d.my_refferal_code=_.my_refferal_code});const p=g(!1),R=async()=>{p.value=!0;const c={onSuccess:r=>{U("Solicitação de retirada enviada com sucesso !",{autoClose:2e3,theme:"dark"},p.value=!1),setTimeout(function(){window.location.reload()},2e3)},onError:r=>{p.value=!1}};d.post("/referral/withdraw/amount",c)},I=g(),C=async()=>{try{const c=await k.get("/get/acount/number");I.value=c.data.account_details,d.account_details=c.data.account_details}catch(c){console.error("Error fetching data:",c)}};return b(()=>{C()}),(c,r)=>{const h=F("DataTable");return s(),n(f,null,[u(m(q),{title:""}),e("div",Q,[u($,{class:"login-wrapper-dashboard"})]),Z,e("div",G,[e("div",J,[e("div",K,[e("div",W,[u(z)]),e("div",X,[e("div",Y,[w,e("div",ee,[e("div",te,[oe,e("div",se,[ne,e("h3",null,o(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format(a.amount)),1)])])]),e("div",ae,[e("div",ie,[re,e("div",ce,[le,e("h3",null,o(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format(a.thirtyDaysOldAmounts)),1)])])]),e("div",de,[e("div",ue,[me,e("div",_e,[pe,e("h3",null,o(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format(a.NotthirtyDaysOldAmounts)),1)])])])]),e("div",he,[e("div",fe,[e("div",ye,[e("div",be,[ge,e("form",{class:"d-flex flex-column align-items-center",onSubmit:j(R,["prevent"])},[v(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>m(d).totalAmount=t),type:"hidden",readonly:""},null,512),[[x,m(d).totalAmount]]),e("div",ve,[e("div",null,[v(e("input",{class:"amount-input","onUpdate:modelValue":r[1]||(r[1]=t=>m(d).withdrawAmount=t),type:"text",name:"withdrawAmount",placeholder:"Insira o valor"},null,512),[[x,m(d).withdrawAmount]]),a.errors.withdrawAmount?(s(),n("div",xe,o(a.errors.withdrawAmount),1)):l("",!0),a.errors.cpf_or_phone?(s(),n("div",ke,o(a.errors.cpf_or_phone),1)):l("",!0)])]),Ae,e("button",{class:"copy-code",disabled:p.value},"RETIRAR",8,De)],32)]),e("div",Ne,[e("div",Re,[e("div",Ie,[Ce,u(h,{style:{width:"100%","margin-top":"20px"},class:"display myLoans-table",options:y},{default:T(()=>[Oe,e("tbody",null,[(s(!0),n(f,null,L(a.withdrawl,(t,O)=>(s(),n("tr",{key:t.id,options:y},[e("td",Be,o(O+1),1),e("td",Fe,o(t.id),1),e("td",je,o(D(t.created_at)),1),e("td",Te,o(t.withdrawAmount),1),e("td",null,o(t.status==0?"Pending":t.status==1?"Approved":t.status==2||t.status==3?"Rejeitado":t.status==4?"Completo":t.status==6?"Transferido":t.status=="Pending"?"Pending":t.status==100),1),e("td",qe,[e("div",null,[t.status==1?(s(),n("a",{key:0,href:"/storage/"+t.receipt,"data-lightbox":"/storage/"+t.receipt},[e("img",{src:"/storage/"+t.receipt,alt:"Approved",style:{height:"100px",width:"100px"}},null,8,Ee)],8,Le)):t.status==2?(s(),n("i",{key:1,onClick:We=>A(t.id),class:"fa fa-download text-primary","aria-hidden":"true",style:{"font-size":"30px"}},null,8,Ve)):(s(),n(f,{key:2},[E(" Pending ")],64))])]),e("td",null,[t.cpf?(s(),n("p",Pe,"CPF : "+o(t.cpf),1)):l("",!0),t.phonenumber?(s(),n("p",Ue,"Número de telemóvel "+o(t.phonenumber),1)):l("",!0),t.through_email?(s(),n("p",Me,"E-mail : "+o(t.through_email),1)):l("",!0),t.randomkey?(s(),n("p",$e,"Chave Aleatória : "+o(t.randomkey),1)):l("",!0),t.bankcode?(s(),n("p",ze,"Código bancário : "+o(t.bankcode),1)):l("",!0),t.agency_number?(s(),n("p",He,"Número da agência : "+o(t.agency_number),1)):l("",!0),t.account_number?(s(),n("p",Qe,"Número de conta : "+o(t.account_number),1)):l("",!0),t.bank_cpf?(s(),n("p",Ze,"CPF(NIN) : "+o(t.bank_cpf),1)):l("",!0)])],8,Se))),128))])]),_:1},8,["options"])])])]),Ge])])])])])])]),u(M)],64)}}},at=H(Je,[["__scopeId","data-v-82674938"]]);export{at as default};
