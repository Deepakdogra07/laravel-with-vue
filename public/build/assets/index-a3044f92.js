import{r as c,_ as M,H as O,l as C,h as P,o as t,c as o,a as d,u as r,d as s,w as i,t as l,e as T,F as m,Z as B,b,k as h,i as w,j as L,f as V,O as U}from"./app-bd1de732.js";import N from"./footer-23e06a57.js";import $ from"./header-5829b448.js";/* empty css                 */import F from"./sidebar-2128f7fb.js";/* empty css                                                               */import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"user-dashboard-header"},Q=s("div",{class:"user-dashboard"},null,-1),G={class:"user-dashboard-section"},J={class:"container"},Z={class:"row"},q={class:"col-lg-3"},z={class:"col-lg-9"},K={class:"d-flex justify-between align-items-center mt-3"},W=s("h2",null,"Painel",-1),X={class:"apply-now"},Y={class:"row mt-4"},ss={class:"col-lg-4 col-md-6 col-12 cards-spaces"},ts={class:"first-card"},es=s("p",null,"TOTAL DE EMPRÉSTIMOS APLICADOS",-1),os={class:"col-lg-4 col-md-6 col-12 cards-spaces"},as={class:"second-card"},ds=s("p",null,"EMPRÉSTIMOS APROVADOS",-1),ls={class:"col-lg-4 col-md-6 col-12 cards-spaces"},ns={class:"third-card"},cs=s("p",null,"EMPRÉSTIMOS REJEITADOS",-1),is={class:"row mt-4"},rs={class:"col-md-7"},_s={class:"myloan-tabel"},ps={class:"d-flex justify-between align-items-center mt-3"},hs=s("h3",null,"Meus empréstimos",-1),us={class:"see-all"},ms=s("thead",null,[s("tr",null,[s("th",{class:"d-none"},"ID"),s("th",{style:{border:"1px solid #ddd"}},"#"),s("th",{style:{border:"1px solid #ddd"}},"Data"),s("th",{style:{border:"1px solid #ddd"}},"Quantia"),s("th",{style:{border:"1px solid #ddd"}},"Status"),s("th",{style:{border:"1px solid #ddd"}})])],-1),bs={class:"d-none"},ys={class:"tabel-blue-text",style:{border:"1px solid #ddd"}},vs={class:"tabel-blue-text",style:{border:"1px solid #ddd"}},gs={style:{border:"1px solid #ddd",color:"#22B909 !important","font-weight":"600"}},fs={style:{border:"1px solid #ddd"}},xs={key:0,class:"pending-btn"},ws={key:1,class:"Approved-btn"},ks={key:2,class:"Rejected-btn"},Ds={key:3,class:"Doc-Pending-btn"},Rs={key:4,class:"FullComplete-btn"},Ss={key:5,class:"Re-Apply-btn"},As={class:"tabel-blue-text",style:{border:"1px solid #ddd"}},js=s("i",{class:"bi bi-chevron-right"},null,-1),Es={class:"col-md-5 mb-3"},Is={class:"myloan-tabel"},Ms={class:"d-flex justify-between align-items-center mt-3"},Os=s("h3",null,"Minha indicação",-1),Cs={class:"see-all"},Ps={class:"table-responsive"},Ts=s("thead",null,[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3 d-none"}," Eu ia "),s("th",{scope:"col",class:"px-6 py-3",style:{width:"100%"}}," Data de inscrição "),s("th",{scope:"col",class:"px-6 py-3"}," Status ")])],-1),Bs={class:"d-none"},Ls={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Vs={class:"px-6 py-4"},Us={key:0,class:"pending-btn"},Ns={key:1,class:"Approved-btn"},$s={key:2,class:"Rejected-btn"},Fs={key:3,class:"pending-btn"},Xs={__name:"index",props:["applied_loans_count","applied_loans_approved_count","applied_loans_rejected","applied_loans_rejected_count","loanRecord"],setup(_){const y=_,v=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=n=>{U.get(`/loan/view/page/${n}`)},g=c(""),D=c(""),R=c(""),S=c(""),p=c("");let A=null;M(async()=>{console.log("onBeforeMount");try{await j()}catch(n){console.error("Error during component mount:",n)}console.log("onBeforeMount2")});const f=c(0),j=async()=>{{const n=`/loan/value/${A}`;try{const a=await O.get(n);a.data.status&&(console.log(a.data.data[0].user.status,"REsponse"),g.value=a.data.data,D.value=a.data.pending,R.value=a.data.approved,S.value=a.data.rejected,p.value=a.data.data[0].user.status),f.value++,console.log("fetched")}catch(a){console.error("Error fetching user data:",a)}}},E=(()=>0)(),x=C({order:[[E,"desc"]]});return(n,a)=>{const u=P("DataTable");return t(),o(m,null,[d(r(B),{title:"User-Dashboard"}),s("div",H,[d($,{class:"login-wrapper-dashboard"})]),Q,s("div",G,[s("div",J,[s("div",Z,[s("div",q,[d(F)]),s("div",z,[s("div",K,[W,s("div",X,[d(r(h),{class:"",href:"/applyloan"},{default:i(()=>[b("APLIQUE AGORA")]),_:1})])]),s("div",Y,[s("div",ss,[s("div",ts,[es,s("h2",null,l(_.applied_loans_count),1)])]),s("div",os,[s("div",as,[ds,s("h2",null,l(_.applied_loans_approved_count),1)])]),s("div",ls,[s("div",ns,[cs,s("h2",null,l(_.applied_loans_rejected_count),1)])])]),s("div",is,[s("div",rs,[s("div",_s,[s("div",ps,[hs,s("div",us,[d(r(h),{class:"",href:"/all-loans"},{default:i(()=>[b("Ver tudo")]),_:1})])]),d(u,{style:{width:"100%","margin-top":"20px"},class:"display myLoans-table",options:x},{default:i(()=>[ms,s("tbody",null,[(t(!0),o(m,null,w(y.loanRecord,(e,I)=>(t(),o("tr",{key:e.id},[s("td",bs,l(e.id),1),s("td",ys,l(y.loanRecord.length-I),1),s("td",vs,l(v(e.created_at)),1),s("td",gs,l(e.loan_amount),1),s("td",fs,[e.status==0?(t(),o("span",xs,"Pendente")):e.status==1?(t(),o("span",ws,"Aprovado")):e.status==2?(t(),o("span",ks,"Rejeitado")):e.status==3?(t(),o("span",Ds,"Incompleto")):e.status==4?(t(),o("span",Rs,"concluída")):e.status==5?(t(),o("span",Ss,"Reaplicar")):L("",!0)]),s("td",As,[d(r(h),{onClick:V(Qs=>k(e.id),["prevent"]),class:"table-right-arrow"},{default:i(()=>[js]),_:2},1032,["onClick"])])]))),128))])]),_:1},8,["options"])])]),s("div",Es,[s("div",Is,[s("div",Ms,[Os,s("div",Cs,[d(r(h),{class:"",href:"/affiliate"},{default:i(()=>[b("Ver tudo")]),_:1})])]),s("div",Ps,[(t(),T(u,{style:{width:"100%","margin-top":"20px"},options:x,key:f.value,class:"display myLoans-table"},{default:i(()=>[Ts,s("tbody",null,[(t(!0),o(m,null,w(g.value,e=>(t(),o("tr",{key:e.id,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[s("td",Bs,l(e.id),1),s("td",Ls,l(v(e.user.created_at)),1),s("td",Vs,[p.value==0?(t(),o("p",Us,"Pendente")):p.value==1?(t(),o("p",Ns,"Aprovado")):p.value==2?(t(),o("p",$s,"Rejeitado")):(t(),o("p",Fs,"Em processamento"))])]))),128))])]),_:1},8,["options"]))])])])])])])])]),d(N)],64)}}};export{Xs as default};
