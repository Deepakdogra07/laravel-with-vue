import{_ as w}from"./AuthenticatedLayout-6c1d06a3.js";import{l as g,h as f,o,e as x,w as r,d as e,a as v,c as n,i as C,t as a,j as s,F as l,b as A,O as h}from"./app-60ff8f36.js";import"./NavLink-053f2b2d.js";/* empty css                                                                   */import"./_plugin-vue_export-helper-c27b6911.js";const N=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"withdraw List",-1),R={class:"py-12"},j={class:"max-w-7xl mx-auto px-2"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg shift-up",style:{border:"1px solid #ddd"}},$={class:"p-6 text-gray-900"},B=e("thead",null,[e("tr",null,[e("th",null,"User Name"),e("th",null,"Recive Amount Details"),e("th",null,"Withdraw Amount"),e("th",null,"Status/Receipt"),e("th",null,"Actions")])],-1),D={key:0},E={key:1},F={key:2},L={key:3},T={key:4},V={key:5},O={key:6},P={key:7},U=["href","data-lightbox"],S=["src"],z=["onClick"],K=["onClick"],M=["onClick"],W={key:0},q={key:1},Z={__name:"Index",props:{withdraws:{type:Array}},setup(_){const m=(()=>0)(),u=g({order:[[m,"desc"]]}),y=d=>{console.log("Receipt form opened"),h.get(`/withdraws/approve/receipt/${d}`)},b=d=>{console.log("Reason form opened"),h.get(`/withdraws/reject/reason/${d}`)},k=d=>{axios.get(`/reject/loan/reason/${d}`,{responseType:"blob"}).then(c=>{const i=new Blob([c.data],{type:c.headers["content-type"]}),t=document.createElement("a");t.href=window.URL.createObjectURL(i),t.download="loanRejected.pdf",t.click()}).catch(c=>{console.error("Error downloading file:",c)})};return(d,c)=>{const i=f("DataTable");return o(),x(w,null,{header:r(()=>[N]),default:r(()=>[e("div",R,[e("div",j,[e("div",I,[e("div",$,[v(i,{class:"display",options:u,style:{border:"2px black",width:"100%"}},{default:r(()=>[B,e("tbody",null,[(o(!0),n(l,null,C(_.withdraws,t=>(o(),n("tr",{key:t.withdraw_id},[e("td",null,a(t.name),1),e("td",null,[t.cpf?(o(),n("p",D,"CPF : "+a(t.cpf),1)):s("",!0),t.phonenumber?(o(),n("p",E,"Mobile Number "+a(t.phonenumber)+":",1)):s("",!0),t.through_email?(o(),n("p",F,"Email : "+a(t.through_email),1)):s("",!0),t.randomkey?(o(),n("p",L,"Random Key : "+a(t.randomkey),1)):s("",!0),t.bankcode?(o(),n("p",T,"Bank Code : "+a(t.bankcode),1)):s("",!0),t.agency_number?(o(),n("p",V,"Agency Number : "+a(t.agency_number),1)):s("",!0),t.account_number?(o(),n("p",O,"Account No. : "+a(t.account_number),1)):s("",!0),t.bank_cpf?(o(),n("p",P,"CPF(NIN) : "+a(t.bank_cpf),1)):s("",!0)]),e("td",null,a(t.withdrawAmount),1),e("td",null,[t.receipt==null?(o(),n(l,{key:0},[A(" Pending ")],64)):t.status==1?(o(),n("a",{key:1,href:"/storage/"+t.receipt,"data-lightbox":"/storage/"+t.receipt},[e("img",{src:"/storage/"+t.receipt,alt:"Approved",style:{height:"100px",width:"100px"}},null,8,S)],8,U)):t.status==2?(o(),n("i",{key:2,onClick:p=>k(t.id),class:"fa fa-download text-primary","aria-hidden":"true",style:{"font-size":"30px"}},null,8,z)):s("",!0)]),e("td",null,[t.receipt==null?(o(),n(l,{key:0},[e("button",{class:"btn btn-primary btn-sm mr-1",onClick:p=>y(t.withdraw_id)},"Approve",8,K),e("button",{class:"btn btn-danger btn-sm mr-1",onClick:p=>b(t.withdraw_id)},"Reject",8,M)],64)):(o(),n(l,{key:1},[t.status==1?(o(),n("span",W,"Approved")):t.status==2?(o(),n("span",q,"Rejected")):s("",!0)],64))])]))),128))])]),_:1},8,["options"])])])])])]),_:1})}}};export{Z as default};
