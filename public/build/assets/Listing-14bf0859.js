import{_ as w}from"./AuthenticatedLayout-482c9fe4.js";import{l as C,h as A,o as i,e as k,w as o,d as t,a as c,u as m,k as p,c as g,i as I,t as a,n as S,b as d,F as D,O as r,p as B,m as L}from"./app-bd1de732.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import"./NavLink-f218cb80.js";const l=n=>(B("data-v-69183cd5"),n=n(),L(),n),E=l(()=>t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Manage Agents",-1)),T={class:"button-container"},N=l(()=>t("button",{class:"btn btn-success"},"Add Agent",-1)),V={class:"py-12"},F={class:"max-w-7xl mx-auto px-2"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg shift-up",style:{border:"1px solid #ddd"}},Y={class:"p-6 text-gray-900"},z=l(()=>t("thead",null,[t("tr",null,[t("th",{class:"d-none"},"ID"),t("th",null,"Agent Name"),t("th",null,"Email"),t("th",null,"Total Loan's Count"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),M={class:"d-none"},P=l(()=>t("button",{class:"btn btn-success btn-sm"}," Agent assigned Loan ",-1)),R=["onClick"],j=["onClick"],q=["onClick"],G={__name:"Listing",props:{agents:{type:Array}},setup(n){const b=(()=>0)(),f=C({order:[[b,"desc"]]}),v=s=>{r.get(`/agents/view-agent/${s}`)},x=s=>{r.get(`/agents/edit-agent/${s}`)},y=async s=>{const{value:u}=await Swal.fire({title:"Are you sure?",text:"You want to Delete Agent Record?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"});try{u?(r.delete(`/agents/delete-agent/${s}`),Swal.fire({icon:"success",title:"Success",text:"Agent Deleted Successfully"}),location.reload()):Swal.fire({icon:"info",title:"Canceled",text:"Deletion canceled."})}catch{Swal.fire({icon:"error",title:"Error",text:"Error Deleting Agent. Please try again."})}};return(s,u)=>{const _=A("DataTable");return i(),k(w,null,{header:o(()=>[E,t("div",T,[c(m(p),{href:s.route("agents.add-agent")},{default:o(()=>[N]),_:1},8,["href"])])]),default:o(()=>[t("div",V,[t("div",F,[t("div",O,[t("div",Y,[c(_,{class:"display",options:f,style:{border:"2px black",width:"100%"}},{default:o(()=>[z,t("tbody",null,[(i(!0),g(D,null,I(n.agents,e=>(i(),g("tr",{key:e.id},[t("td",M,a(e.id),1),t("td",null,a(e.name),1),t("td",null,a(e.email),1),t("td",null,a(e.loan_count),1),t("td",{class:S({active:e.status==1,inactive:e.status==0})},a(e.status==1?"Active":"Inactive"),3),t("td",null,[c(m(p),{href:s.route("agent.basedLeads",{id:e.id})},{default:o(()=>[P]),_:2},1032,["href"]),d("   "),t("button",{class:"btn btn-info btn-sm",onClick:h=>v(e.id)},"Agent Details",8,R),d("   "),t("button",{class:"btn btn-primary btn-sm",onClick:h=>x(e.id)},"Edit",8,j),d("   "),t("button",{class:"btn btn-danger btn-sm",onClick:h=>y(e.id)},"Delete",8,q)])]))),128))])]),_:1},8,["options"])])])])])]),_:1})}}},W=$(G,[["__scopeId","data-v-69183cd5"]]);export{W as default};
