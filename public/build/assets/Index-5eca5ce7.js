import{_ as S}from"./AuthenticatedLayout-9e4a93b4.js";import{r as u,l as $,h as B,o as n,c as a,a as l,w as c,F as C,u as N,k as A,j as m,d as e,i as E,t as i,n as T,b as _,O as h,p as V,m as U}from"./app-c53730e3.js";import{S as r}from"./sweetalert2.all-244f15fc.js";import{_ as F}from"./Modal-a2322f3f.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                   */const d=s=>(V("data-v-fbf99131"),s=s(),U(),s),Y=d(()=>e("h2",{class:"font-semibold text-xl text-black-800 leading-tight"}," Customers",-1)),j={key:0,class:"button-container"},q=d(()=>e("button",{class:"btn btn-success"},"Add Customer",-1)),z={class:"py-12"},L={class:"max-w-7xl mx-auto px-2"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg shift-up",style:{border:"1px solid #ddd"}},R={class:"p-6 text-black-900"},G=d(()=>e("thead",null,[e("tr",null,[e("th",{class:"d-none"},"ID"),e("th",null,"Customer Name"),e("th",null,"Email"),e("th",null,"Status"),e("th",null,"Actions")])],-1)),H={class:"d-none"},J=["onClick"],K=["onClick"],M=d(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),Q=["onClick"],W={__name:"Index",props:{customers:{type:Array},authUser:{}},setup(s){const v=u(!1),x=u(!1),y=u(null),g=(()=>0)(),w=$({order:[[g,"desc"]]}),I=async o=>{const{value:f}=await r.fire({title:"Are you sure?",text:"You want to Delete Customer Record?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"});try{f?(h.get(`/customers/delete-customer/${o}`),r.fire({icon:"success",title:"Success",text:"Customer Deleted Successfully"}),location.reload()):r.fire({icon:"info",title:"Canceled",text:"Deletion canceled."})}catch{r.fire({icon:"error",title:"Error",text:"Error Deleting Customer. Please try again."})}},k=o=>{h.get(`/customers/view-customer/${o}`)},D=o=>{h.get(`/customers/edit-customer/${o}`)};return(o,f)=>{const p=B("DataTable");return n(),a(C,null,[l(S,null,{header:c(()=>[Y,s.authUser.user_type==1?(n(),a("div",j,[l(N(A),{href:o.route("customers.add-customer")},{default:c(()=>[q]),_:1},8,["href"])])):m("",!0)]),default:c(()=>[e("div",z,[e("div",L,[e("div",P,[e("div",R,[l(p,{class:"display",options:w,style:{border:"2px black",width:"100%"}},{default:c(()=>[G,e("tbody",null,[(n(!0),a(C,null,E(s.customers,t=>(n(),a("tr",{key:t.id},[e("td",H,i(t.id),1),e("td",null,i(t.name),1),e("td",null,i(t.email),1),e("td",{class:T({active:t.status==1,inactive:t.status==0})},i(t.status==1?"Active":"Inactive"),3),e("td",null,[e("button",{class:"btn btn-info btn-sm",onClick:b=>k(t.id)},"View",8,J),_("   "),s.authUser.user_type==1?(n(),a("button",{key:0,class:"btn btn-primary btn-sm",onClick:b=>D(t.id)},[M,_(" Edit")],8,K)):m("",!0),_("   "),s.authUser.user_type==1?(n(),a("button",{key:1,class:"btn btn-danger btn-sm",onClick:b=>I(t.id)},"Delete",8,Q)):m("",!0)])]))),128))])]),_:1},8,["options"])])])])])]),_:1}),l(F,{show:x.value,customerId:y.value,agentName:v.value,modal:2,onClose:o.closebtn},null,8,["show","customerId","agentName","onClose"])],64)}}},ae=O(W,[["__scopeId","data-v-fbf99131"]]);export{ae as default};
